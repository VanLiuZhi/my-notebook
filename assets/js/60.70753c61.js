(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{511:function(e,t,r){"use strict";r.r(t);var n=r(1),i=Object(n.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"gunicorn"}},[e._v("gunicorn")]),e._v(" "),r("p",[e._v("Gunicorn 'Green Unicorn' is a Python WSGI HTTP Server for UNIX. It's a pre-fork worker model. The Gunicorn server is broadly compatible with various web frameworks, simply implemented, light on server resources, and fairly speedy.")]),e._v(" "),r("h2",{attrs:{id:"运行"}},[e._v("运行")]),e._v(" "),e._m(0),e._v(" "),r("p",[e._v("-w 指启动的进程数量如2")]),e._v(" "),e._m(1),e._v(" "),r("p",[e._v("gunicorn 工作模式")]),e._v(" "),e._m(2),e._v(" "),r("p",[e._v("Linux进程有父进程和子进程之分,windows的进程是平等关系")]),e._v(" "),r("p",[e._v("gunicorn的同步模式，一次只处理一个请求（此时使用一个进程，4个线程来处理任务，任意时刻只能有一个请求被执行吗？）")]),e._v(" "),r("p",[e._v("虽然python有GIL，但不是所有操作都是线程安全的")]),e._v(" "),r("h2",{attrs:{id:"问题"}},[e._v("问题")]),e._v(" "),r("p",[e._v("遇到的问题汇总")]),e._v(" "),r("h3",{attrs:{id:"启动django项目，找不到静态资源"}},[e._v("启动django项目，找不到静态资源")]),e._v(" "),r("p",[e._v("gunicorn 来直接启动django项目，找不到静态资源，在url配置文件中加入")]),e._v(" "),r("highlight-code",{attrs:{lang:"python"}},[r("pre",[r("code",[e._v("from django.contrib.staticfiles.urls import staticfiles_urlpatterns\nurlpatterns += staticfiles_urlpatterns()\n")])])]),e._v(" "),r("p",[e._v("问题解决来自 "),r("a",{attrs:{href:"https://stackoverflow.com/questions/12800862/how-to-make-django-serve-static-files-with-gunicorn",target:"_blank",rel:"noopener noreferrer"}},[e._v("Stack Overflow"),r("OutboundLink")],1)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",[this._v("gunicorn -w 2 --threads=4 application:app -b localhost:8080\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("ps -ef|grep python")]),this._v(" 可以看到python共有3个进程，其中一个主进程和两个work进程（两个work进程是master的子进程）")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[e._v("sync")]),e._v(" "),r("li",[e._v("eventlet - Requires eventlet >= 0.9.7")]),e._v(" "),r("li",[e._v("gevent - Requires gevent >= 0.13")]),e._v(" "),r("li",[e._v("tornado - Requires tornado >= 0.2")]),e._v(" "),r("li",[e._v("gthread - Python 2 requires the futures package to be installed")]),e._v(" "),r("li",[e._v("gaiohttp - Requires Python 3.4 and aiohttp >= 0.21.5")])])}],!1,null,null,null);i.options.__file="gunicorn.md";t.default=i.exports}}]);